<!DOCTYPE html>
<html>
  <head>
    <title>Edit Page</title>
    <script src="static/auth.js"></script>
    <script src="static/ballot.js"></script>
    <script src="static/create.js"></script>
    <script src="static/edit.js"></script>
    <script src="static/readform.js"></script>
    <script src="static/renderform.js"></script>
    <script src="static/requests.js"></script>
    <script src="static/results.js"></script>
  </head>
  <body>
    <h1>Edit Page</h1>
    <form id="edit-form">
      <label>Name of Election</label>
      <input type="text" name="election">
      <fieldset id="positions">
        <legend>Positions</legend>
      </fieldset>
      <fieldset id="users">
        <legend>Users (Observers, Voters and Admins)</legend>
      </fieldset>
      <fieldset>
        <legend>Times</legend>
        <label>Opening Time</label>
        <input type="datetime-local" name="open-time">
        <label>Closing Time</label>
        <input type="datetime-local" name="close-time">
        <label>Availability Time</label>
        <input type="datetime-local" name="expire-time">
      </fieldset>
      <button type="button" onclick="editElection(readElectionForm('edit-form'))">Update Election</button>
    </form>
  </body>
  <script>
    document.forms['edit-form'].addEventListener('submit', submit);
    if (MOCK) {
      renderElectionData(mockElection, "edit-form");
    } else {
      (async () => {
        let data = await getElectionData();
        console.log(data);
        renderElectionData(data, "edit-form");
      })()
    }
  </script>
</html>
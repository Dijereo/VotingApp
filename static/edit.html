<!DOCTYPE html>
<html>
  <head>
    <title>Edit Page</title>
    <link rel="stylesheet" href="static/style.css" />
    <script src="static/auth.js"></script>
    <script src="static/ballot.js"></script>
    <script src="static/create.js"></script>
    <script src="static/edit.js"></script>
    <script src="static/readform.js"></script>
    <script src="static/renderform.js"></script>
    <script src="static/requests.js"></script>
    <script src="static/results.js"></script>
  </head>
  <body>
    <nav>
      <div class="header">
        <a class="title-link" href="" onclick="redirect('/create')"
          ><h4 class="title">
            V-Elect
          </h4></a
        >
      </div>
      <ul class="nav-items">
        <li>Tutorial</li>
        <a href="https://github.com/Dijereo/VotingApp"><li>Github</li></a>
        <li>
          <button
            type="button"
            class="create-button"
            onclick="redirect('/create')"
          >
            Create Election
          </button>
        </li>
      </ul>
    </nav>
    
    <div class="form-div">
      
      <div class="form-highlight">
        <h1 class="form-title">Edit Page</h1>
        <div class="form-div-edit">
          <form id="edit-form" class="form-class">
            <label for="Name of Election"></label>
            <input id="form-submit" placeholder="Name of Election"
              type="text" name="election" required/>
            <fieldset id="positions">
              <legend>Positions</legend>
            </fieldset>
            <fieldset id="users">
              <legend>Users (Observers, Voters and Admins)</legend>
            </fieldset>
            <fieldset>
              <legend>Times</legend>
              <label>Opening Time</label>
              <input type="datetime-local" name="open-time" required/></br>
              <label>Closing Time</label>
              <input type="datetime-local" name="close-time" required/></br>
              <label>Availability Time</label>
              <input type="datetime-local" name="expire-time" required/>
            </fieldset>
            <br/><br/>
            <button class="vote-button" type="button"
              onclick="editElection(readElectionForm('edit-form'))"
            >
              Update Election
            </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
  <script>
    document.forms['edit-form'].addEventListener('submit', submit);
    if (MOCK) {
      renderElectionData(mockElection, "edit-form");
    } else {
      (async () => {
        let data = await getElectionData();
        console.log(data);
        renderElectionData(data, "edit-form");
      })()
    }
  </script>
</html>